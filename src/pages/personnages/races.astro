---
import BaseLayout from '@/layout/baseLayout.astro'
import SideImageTextLayout from '@/layout/sideImageTextLayout.astro'
import {SimpleCard} from "../../components/ui/simple-card";
import Card from "@/models/Card"
import type Race from '@/models/Race';
import Armor from '@/enums/Armor';

const pageTitle: string = 'Création du héros'

const prototypes: Card[] = [
    {
        title: 'Les races mortelles',
        content: 'Les races mortelles comprennent les êtres vivants ordinaires ou mortels qui peuplent le monde. Elles' +
            ' sont souvent sujettes à la mort et à la mortalité, contrairement à certaines races immortelles ou divines.',
        image: '/images/races-mortelles.png',
        url: null,
        textLink: null
    },
    {
        title: 'Les Races Anciennes',
        content: 'Les races anciennes font référence à des groupes de créatures qui existent depuis longtemps dans le' +
            ' monde. Elles ont souvent une histoire riche et ancienne, remontant à des époques reculées de l\'univers.',
        image: '/images/races-anciennes.jpg',
        url: null,
        textLink: null
    },
    {
        title: 'Les Races Hybrides',
        content: 'Les races hybrides peuvent ajouter de la diversité et de l\'intérêt à un monde fantastique en' +
            ' combinant différentes cultures, perspectives et pouvoirs magiques. ',
        image: '/images/races-hybrides.webp',
        url: null,
        textLink: null
    }
];

const mortalRaces: Race[] = [
    {
        name: 'Humain',
        description: 'Les humains, véritables acteurs de la scène d\'Eindhill, sont présents dans toutes les strates de la société. '+
            'Leurs royaumes florissants abritent des cultures distinctes, des cités marchandes aux bastions royaux. Dotés de compétences polyvalentes, '+
            'les humains excellent dans une gamme étendue de professions, des arts magiques aux métiers artisanaux. ',
        image: '/images/races/race-humain.jpg',
        racialSkills: [
            {
                name: 'Instinct de Survie',
                description: 'Si un coup doit vous conduire à 0 PV, une fois par combat, '+
                    'vous utilisez votre compétence raciale automatiquement, divisant ainsi les dégâts subis de l\'attaque par 2 ! '+
                    '(1 pt de dégât obligatoire). +4 pts de Compétence.',
                image: null
            }
        ],
        armorType: [Armor.LIGHT, Armor.INTERMEDIATE, Armor.HEAVY]
    },
    {
        name: 'Titanien',
        description: 'Semi-géants par nature, ils incarnent la grandeur et la puissance dans ce monde fantastique. Leurs terres sont le '+
            'foyer de sociétés robustes, où la force physique et la sagesse sont vénérées de manière égale. Des bastions imposants émergent au '+
            'sein de vastes contrées, révélant une richesse culturelle distincte.',
        image: '/images/races/race-titanien.jpg',
        racialSkills: [
            {
                name: 'Peuple des Géants',
                description: 'Augmente le jet d\'Athlétisme et d\'Intimidation de +2, il gagne [+2 Con ] , '+
                'Cependant, sa vitesse de déplacement est réduite. [-2 Dex]. '+
                'Son total de point de vie augmente de +3',
                image: null
            }
        ],
        armorType: [Armor.LIGHT, Armor.INTERMEDIATE, Armor.HEAVY]
    },
    {
        name: 'Unathopien',
        description: 'Doté d\'une polyvalence dans les compétences, il s\'adapte aisément à l\'évolution rapide de la société d\'Unathopia, '+
            'participant activement à la prospérité de cette métropole. En tant que fervent partisan de Thédès, le Premier Né du Temps, '+
            'il honore les principes de progrès et de perfection, cherchant à transcender les limites technologiques avec un dévouement absolu '+
            'envers l\'avancement de sa cité.',
        image: '/images/races/race-unathopien.jpg',
        racialSkills: [
            {
                name: 'Ingéniosité de l\'Engrenage - Seuil 0',
                description: 'Bonus de +2 en Escamotage et Investigation, démontrant un sens aigu de la perception et de la déduction liées à '+
                    'l\'ingénierie. DM multipliés par deux contre les dégâts de foudre.',
                image: null
            }
        ],
        armorType: [Armor.LIGHT, Armor.INTERMEDIATE],
        additionalInfo: `
            <p>
                [Ingéniosité de l'Engrenage]  qu’on nommera : [IdE] est une caractéristique unique qui représente le degré de mécanisation du
                corps du personnage Unathopien.
            </p>
            <p>
                Cette compétence est subdivisée en six niveaux, chacun correspondant à un certain seuil de mécanisation.
            </p>

            <ul>
                <li><span class="font-bold">Seuil 0 :</span> 0% = [IdE]</li>
                <li><span class="font-bold">Seuil 1 :</span> 15% = [IdE] +1 en ATK [Phy, Mag ou Dis] / -1 ATK [Phy, Mag ou Dis]</li>
                <li><span class="font-bold">Seuil 2 :</span> 25% = [IdE] +2 en ATK [Phy, Mag ou Dis] / -2 ATK [Phy, Mag ou Dis]</li>
                <li><span class="font-bold">Seuil 3 :</span> 50% = [IdE] +3 en ATK [Phy, Mag ou Dis] / -3 ATK [Phy, Mag ou Dis]</li>
                <li><span class="font-bold">Seuil 4 :</span> 70% = [IdE] +4 en ATK [Phy, Mag ou Dis] / -4 ATK [Phy, Mag ou Dis]</li>
                <li><span class="font-bold">Seuil 5 :</span> 100% = [IdE] +5 en ATK [Phy, Mag ou Dis] / -5 ATK [Phy, Mag ou Dis]</li>
            </ul>
        `
    }
];
---

<BaseLayout
        pageTitle={pageTitle}
>
    <section class="container mb-6">
        <header class="mb-12">
            <h2>{ pageTitle }</h2>

            <h3 class="text-center">Les races</h3>

            <p>
                Chaque race offre une palette unique de caractéristiques, avec des sous-races distinctes ajoutant une
                profondeur encore plus grande. Plongez dans les nuances des cultures, des traditions et des récits qui
                définissent chaque groupe, contribuant à une toile complexe et captivante dans l'univers d'Eindhill.
            </p>
            <p>
                <strong>Les Races offrent une compétence.</strong>
            </p>
            <p>
                <strong>Les compétences raciales</strong>, qui permettent de différencier les personnages en fonction de leur nature
                profonde et de leur appartenance à une race afin de simuler la grande variété des modes de vie.
            </p>
        </header>

        <div class="mb-12">
            <div class="grid gap-4 grid-cols-1 lg:grid-cols-3">
                {
                    prototypes.map(prototype => (
                        <SimpleCard
                            title={prototype.title}
                            content={prototype.content}
                            image={prototype.image}
                        />
                    ))
                }
            </div>
        </div>

        <div class="mb-12">
            <h4 class="text-primary">Races Mortelles</h4>

            <div class="flex flex-col gap-10">
                {
                    mortalRaces.map((race, key) =>
                        (<SideImageTextLayout image={race.image} title={race.name} reverse={key % 2 !== 0}>
                            <p>{race.description}</p>

                            <h3>Compétence raciale</h3>
                            <ul>
                                {
                                    race.racialSkills.map(skill => <li>{skill.description}</li>)
                                }
                            </ul>

                            <h3>Maîtrise d'armure</h3>
                            <ul>
                                {
                                    race.armorType.map(type => <li class="capitalize">{type}</li>)
                                }
                            </ul>

                            {
                                race.additionalInfo &&
                                <div>
                                    <h3>Notes supplémentaires</h3>
                                    <Fragment set:html={race.additionalInfo} />
                                </div>
                            }
                        </SideImageTextLayout>)
                    )
                }
            </div>
        </div>
    </section>
</BaseLayout>